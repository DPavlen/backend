{% extends "base.html" %}
{% block title %}Авторизация пользователя{% endblock %}
{% block content %}
{% load widget_tweaks %}

    <h1>Авторизация пользователя</h1><br>
    {% if form.errors %}
    <p>
        Ваше имя пользователя и пароль не совпадают.
        Пожалуйста, попробуйте еще раз.
    </p>
    {% else %}
    
    <p>Пожалуйста, используйте следующую форму для входа: Если у вас нет учетной записи
         <a href="{% url 'login' %}">Зарегистрироваться здесь</a>.</p>
    {% endif %}
   
    {% comment %} {{ form.as_p }} {% endcomment %}
    {% csrf_token %}
    {% comment %} Подключим новую форму из библиотеки widget_tweaks {% endcomment %}
    {% comment %} Теперь поля ввода формы будут иметь классы 'form-control' для применения стилей 
    Bootstrap и placeholder'ы для понятности заполнения полей. Ошибки валидации также 
    будут выводиться в соответствующих блоках формы с классами 'has-error' и списках 'errorlis'.
    Вы можете использовать теги `attr` для добавления классов и стилей к полям ввода формы
    {% endcomment %}
    <form action="" method="POST">
    {% csrf_token %}
    <div class="form-group{% if form.username.errors %} has-error{% endif %}">
        <label for="{{ form.username.id_for_label }}">Логин: </label>
        {% render_field form.username class+="form-control" placeholder="Enter username" %}
        {% if form.username.errors %}
            <ul class="errorlist">
                {% for error in form.username.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <div class="form-group{% if form.password.errors %} has-error{% endif %}">
        <label for="{{ form.password.id_for_label }}">Пароль:</label>
        {% render_field form.password class+="form-control" placeholder="Enter password" %}
        {% if form.password.errors %}
            <ul class="errorlist">
                {% for error in form.password.errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    <input type="submit" value="Login" class="btn btn-primary">
    </form>


    {% comment %} <div class="login-form">
    <form action="{% url 'login' %}" method="post">
  
    <input type="hidden" name="next" value="{{ next }}" />
    <p><input type="submit" value="Log-in"></p>
    </form> {% endcomment %}
    <p>
        <a href="{% url "password_reset" %}">
            {% csrf_token %}
            Забыли пароль? 
        </a>
    </p>
    </div>
{% endblock %}